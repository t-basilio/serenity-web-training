serenity.test.root = serenityswag

environment = grid

environments {

    run_on_saucelabs {
        tags = "not local"

        webdriver {
            driver = remote
            remote.url = "https://#{saucelabs.username}:#{saucelabs.accessKey}@#{saucelabs.datacenter}.saucelabs.com:443/wd/hub"
        }
        saucelabs  {
            platformName = "Windows 10"
            browserName = "chrome"
            browserVersion = "latest"
        }
    }

    grid {
        webdriver {
          driver = remote
          remote.url = "http://127.0.0.1:4444/wd/hub"
          browserName = "firefox"
          screenResolution = "1280x1024"
          unhandledPromptBehavior = "ignore"
        }
    }

    local {
        webdriver.driver = chrome
        chrome {
             switches = """--test-type;--disable-audio;--no-sandbox;--user-data-dir=/tmp;--incognito;--disable-gpu;
                           --disable-infobars;--disable-popup-blocking;--disable-extensions-file-access-check;
                           --version;--disable-default-apps;--disable-dev-shm-usage"""

             preferences {
                 download {
                     prompt_for_download: false
                     default_directory: "$TEMPDIR"
                 }
             }
        }
    }
}